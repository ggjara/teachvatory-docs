[{"path":"index.html","id":"welcome","chapter":"Welcome","heading":"Welcome","text":" small reference book learn install, edit, deploy app Teachvatory.Teachvatory app created Dan Levy group former students teaching fellows. goal provide easy visualization student’s performance courses Dan teaches.book 5 chapters covers development process app:Chapter 1: InstallationChapter 2: App StructureChapter 3: Edit appChapter 4: DeployChapter 5: Recommendations TipsThe first chapter explains download install app locally. second chapter explains app architecture, follows R package convention uses Golem framework package. third chapter describes edit app using Git GitHub. fourth chapter explains publish site online shinyapps.io. fifth final chapter list tips, packages, nerd stuff facilitate workflow (nerds love stuff.)honored part team, made years Harvard one best lives. came us: Welcome enjoy ride!Beatriz, Marco, Tyler, Gonzalo, y Dan. \n","code":""},{"path":"installation.html","id":"installation","chapter":"1 Installation","heading":"1 Installation","text":"Teachvatory open-source project published GitHub. can find repository .","code":""},{"path":"installation.html","id":"understanding-what-is-a-github-repository","chapter":"1 Installation","heading":"1.1 Understanding what is a GitHub repository","text":"open-source project, way interact app’s development using Git. way can collaborate keep control changes made app contributor. familiar Git GitHub, highly recommend start reading Introduction Git article GitHub GitHub Skills, repository easy--understand tutorials begin using Git GitHub.already feel comfortable cloning GitHub repository computer, let’s continue!","code":""},{"path":"installation.html","id":"cloning-teachvatory-repository","chapter":"1 Installation","heading":"1.2 Cloning teachvatory repository","text":"Go Teachvatory’s Github clone repository specific folder computer. can find detailed explanation many ways can clone repository.","code":""},{"path":"installation.html","id":"installing-the-keys-secrets","chapter":"1 Installation","heading":"1.3 Installing the keys (secrets)","text":"Teachvatory needs keys access different services consumes. Febreaury 2023, Teachvatory connects :Google DrivePolished (authentication system)keys never uploaded GitHub. , keys accessible anyone, compromising app’s security. app’s administrator needs send privately.get keys:Copy .secrets/ folder app’s directoryCopy .REnviron file app’s directoryCongratulations! now files needed run app local machine. Let’s go now install packages!","code":""},{"path":"installation.html","id":"installing-packages","chapter":"1 Installation","heading":"1.4 Installing packages","text":"installing package, sure install Golem Shiny packages.Now two ways install remaining packages: easy one, long one.","code":"\ninstall.packages(c(\"shiny\", \"golem\"))"},{"path":"installation.html","id":"the-easy-way","chapter":"1 Installation","heading":"1.4.1 The easy way","text":"Open teachvatory.Rproj RStudio load app set working directory.Open dev/run_dev.R. script using start app local machine (later.)\nlook something like :Run lines codeThe app won’t start won’t required packages installed. don’t worry! expecting .console asked want install dependencies. Say: YesThat !","code":"\n# Set options here\noptions(golem.app.prod = FALSE) # TRUE = production mode, FALSE = development mode\n\n# Comment this if you don't want the app to be served on a random port\noptions(shiny.port = httpuv::randomPort())\n\n# Detach all loaded packages and clean your environment\ngolem::detach_all_attached()\n# rm(list=ls(all.names = TRUE))\n\n# Document and reload your package\ngolem::document_and_reload()\n\n# Run the application\nrun_app()"},{"path":"installation.html","id":"the-long-way","chapter":"1 Installation","heading":"1.4.2 The long way","text":"app built R Package, can find packages need install DESCRIPTION file app’s directory. DESCRIPTION look something like :“Imports” list packages need run app. can install one one using install.packages(\"package-name\") using vector names: install.packages(c(\"pkg1\", \"pkg2\", \"pkg3\", ...))done installing dependencies :).","code":"Package: teachvatory\nTitle: Teachvatory\nVersion: 0.0.0.9000\nAuthors@R: \n    person(\"Gonzalo\", \"Jara\", , \"gonzalojarasaba@gmail.com\", role = c(\"cre\", \"aut\"))\nDescription: An observatory for your teaching.\nLicense: MIT + file LICENSE\nImports: \n    bs4Dash,\n    config (>= 0.3.1),\n    data.table,\n    dplyr,\n    DT,\n    golem (>= 0.3.5),\n    googledrive,\n    googlesheets4,\n    highcharter,\n    polished,\n    shiny (>= 1.7.4),\n    shinycssloaders,\n    shinyjs,\n    shinyWidgets,\n    sparkline,\n    stringr,\n    waiter\nEncoding: UTF-8\nLazyData: true\nRoxygenNote: 7.2.2\nSuggests: \n    testthat (>= 3.0.0)\nConfig/testthat/edition: 3"},{"path":"installation.html","id":"run-the-app","chapter":"1 Installation","heading":"1.5 Run the app!","text":"Now secrets packages installed ready launch app locally.Open dev/run_dev.R run script. can select code (CMD+) run (CMD+ENTER).stop server, press CTRL+C R Console.\nFigure 1.1: app working! Congratulations\n","code":""},{"path":"app-structure.html","id":"app-structure","chapter":"2 App Structure","heading":"2 App Structure","text":"","code":""},{"path":"app-structure.html","id":"read-the-required-documentation","chapter":"2 App Structure","heading":"2.1 Read the required documentation","text":"learning app structured need basic comprehension Shiny Golem framework. Please read following:Mastering Shiny: comprehensive book Shiny. contains almost information need interact Shiny part Teachvatory. recommend starting Chapters 1 4 experience Shiny . already know Shiny, feel free skip chapters.\nChapters 1 8 (Required)\nChapter 10 (Required)\nChapters 12 (Required)\nChapter 13 14 (Recommended)\nChapters 19 20 (Required).\nChapters 1 8 (Required)Chapter 10 (Required)Chapters 12 (Required)Chapter 13 14 (Recommended)Chapters 19 20 (Required).Engineering Production-Grade Shiny Apps: book understand app’s structure. Teachvatory built using Golem Framework, explained detail book. continue reading documentation learning Golem - make learning process much harder. understand Teachvatory won’t need read chapters - following list ok:\nChapters 3 4: Introduce Golem. (Required)\nChapter 8: Explains create Golem app scratch. Although creating new application, think important understand configuration file . (Required)\nChapter 10: Explains develop app using Golem’s functions. (Required)\nChapters 3 4: Introduce Golem. (Required)Chapter 8: Explains create Golem app scratch. Although creating new application, think important understand configuration file . (Required)Chapter 10: Explains develop app using Golem’s functions. (Required)read required chapters ready go app’s structure.","code":""},{"path":"app-structure.html","id":"teachvatory-code-structure","chapter":"2 App Structure","heading":"2.2 Teachvatory code structure","text":"Teachvatory follows Golem Framework. means files organized named following Golem conventions (, time, follows .R package conventions). (read Chapter 4 Engineering Production-Grade Shiny apps yet, good time ).","code":"├── DESCRIPTION\n├── LICENSE\n├── LICENSE.md\n├── NAMESPACE\n├── R\n│   ├── _disable_autoload.R\n│   ├── app_config.R\n│   ├── app_server.R\n│   ├── app_ui.R\n│   ├── fct_driveaccess.R\n│   ├── fct_polishedauth.R\n│   ├── globalvars.R\n│   ├── mod_conventions.R\n│   ├── mod_metrics.R\n│   ├── mod_metrics_fct_logic.R\n│   ├── mod_quiz.R\n│   ├── mod_quiz_questionviz.R\n│   ├── mod_quiz_questionviz_fct_graphs.R\n│   ├── mod_quiz_questionviz_fct_uidynamic.R\n│   ├── mod_quiz_fct_logic.R\n│   ├── mod_roster.R\n│   └── run_app.R\n├── README.Rmd\n├── README.md\n├── app.R\n├── config.yml\n├── dev\n│   ├── 01_start.R\n│   ├── 02_dev.R\n│   ├── 03_deploy.R\n│   ├── googledrive_auth.R\n│   └── run_dev.R\n├── inst\n│   ├── app\n│   │   └── www\n│   │       ├── favicon.ico\n│   │       └── img\n│   │           ├── logo_dark_background.png\n│   │           ├── logo_white_background.png\n│   │           ├── logosymbol_dark_background.png\n│   │           └── logosymbol_white_background.png\n│   └── golem-config.yml\n├── man\n│   ├── chart_multiplechoise_multiple.Rd\n│   ├── (...)\n├── rsconnect\n│   └── shinyapps.io\n│       └── gonzalojara\n│           └── teachvatory.dcf\n├── teachvatory.Rproj\n└── tests\n    ├── testthat\n    │   ├── test-mod_quiz_questionviz.R\n    │   └── (...)\n    └── testthat.R"},{"path":"app-structure.html","id":"section","chapter":"2 App Structure","heading":"2.2.1 ./","text":"DESCRIPTION contains package information title, description, author, app version. need change .DESCRIPTION contains package information title, description, author, app version. need change .LICENSE LICENSE.md files define app licences. need change .LICENSE LICENSE.md files define app licences. need change .NAMESPACE autogenerated file contains packages dependecies. never edit hand. file automatically updated new package added usethis::use_package(\"package-name\") referenced app using import package-name::func().NAMESPACE autogenerated file contains packages dependecies. never edit hand. file automatically updated new package added usethis::use_package(\"package-name\") referenced app using import package-name::func().README.mdand README.rmd used create landing page GitHub page.README.mdand README.rmd used create landing page GitHub page../config.yml contains private variables needed app. also allows use .R preceding expresion !expr. example, app calling private variables POLISED_APP_NAME POLISHED_API_KEY defined .Renviron file.\ndefault:\n  polished_app_name: !expr Sys.getenv(\"POLISHED_APP_NAME\")\n  polished_api_key: !expr Sys.getenv(\"POLISHED_API_KEY\")./config.yml contains private variables needed app. also allows use .R preceding expresion !expr. example, app calling private variables POLISED_APP_NAME POLISHED_API_KEY defined .Renviron file.","code":"default:\n  polished_app_name: !expr Sys.getenv(\"POLISHED_APP_NAME\")\n  polished_api_key: !expr Sys.getenv(\"POLISHED_API_KEY\")"},{"path":"app-structure.html","id":"r","chapter":"2 App Structure","heading":"2.2.2 .R/","text":".R files defines application logic located R/ folder. Inside files find content modules (created golem::add_modules()), utilitarian business functions (created golem::add_utils()golem::add_fct())._disable_autoload.R autogerated file disable autoload shinyapps.io. need change .app_config.R contains mechanics golem. need modify file.app_server.R main server configuration. file app handles user interaction navigation bars, load MasterQuiz metadata, Roster file. also app call modules’ server function.app_ui.R main UI configuration. file can change dashboard left, right, top, bottom navigation bar. also calls modules’ UIs.fct_driveraccess.R fct_polishedauth contains functions interact Google Drive Files Polished authentication systems, respectively. (Note business-specific functions, .R files start fct_).global_vars.R defines variables used app like Dashboard URL, name used quizes identify student. never put private variables, like API keys, .mod_conventions.R, mod_metrics.R, mod_quiz.R, mod_roster.R main modules app. modules contains UI server functions sections see left navigation bar.mod_metrics_fct_logic.R mod_quiz_fct_logic.R two business-specific functions used mod_metrics.R mod_quiz.R, respectively.mod_quiz_questinviz.R module called inside mod_quiz.R module. can think second-level module. module takes care questions’ visualizations.mod_quiz_questionviz_fct_graphs.R mod_quiz_questionviz_fct_uidynamic.R two business-specific files functions used create graphs UI mod_quiz_questionviz.R module. put functions one _fct file, inside mod_quiz_questionviz.R, functionality remained . Instead, decide break code different files easier change add functionalities.run_app.R contains run_app() function called new user connects app. change file unless want edit authentication system edit login page.","code":""},{"path":"app-structure.html","id":"dev","chapter":"2 App Structure","heading":"2.2.3 dev/","text":"files folder never called app. Instead, files meant keep code find needing often developing app locally. required run files; serve place keep code forget .01_start.R contains configuration code need run first create Golem app.02_dev.R contains code need run developing app, like function create new modules, _fct _utils.03_deploy.R contains code need run deploying app.googledrive_auth.R configuration file need run whenever want change .secrets app needed connect Google Files API.run_dev.R contains block code need run start app locally.","code":""},{"path":"app-structure.html","id":"inst","chapter":"2 App Structure","heading":"2.2.4 inst/","text":"folder find golem_config.yml file public resources.app/www/ put resourcer need accesed web, like pictures.golem_config.yml file define variables golem. use file keeping variables use ./config.yml root folder instead.","code":""},{"path":"app-structure.html","id":"man","chapter":"2 App Structure","heading":"2.2.5 man/","text":"files automatically generated building app. files contain functions descriptions created using roxygen2 convention.Example:using structure defining function, app autogenerate file get_sheetnames.Rd description function. useful keeping clean documentation.","code":"\n#' Get sheetnames of file in course directory\n#'\n#' @description Filter a `directory` (dribble) by `filter` and returns\n#' the sheetnames of the file.\n#'\n#' @param directory A dribble of files in a directory\n#' @param filter A string of the file to open\n#'\n#' @return A list of sheetnames or `c(\"\")` if fail.\n#'\n#' @import dplyr stringr googlesheets4 googledrive\nget_sheetnames <- function(directory, filter) {\n  tryCatch(\n    {\n      filter_path <- directory %>%\n        filter(name == filter)\n      metadata <- googlesheets4::gs4_get(filter_path %>% head(1))\n      return(metadata[[\"sheets\"]]$name)\n    },\n    error = function(e) {\n      return(c(\"\"))\n    }\n  )\n}"},{"path":"app-structure.html","id":"rsconnect","chapter":"2 App Structure","heading":"2.2.6 rsconnect/","text":"folder contains configurations connect shinyapps.io, needed deploy app.","code":""},{"path":"app-structure.html","id":"tests","chapter":"2 App Structure","heading":"2.2.7 tests/","text":"folder contains .R scripts run tests app. currently implementing tests Teachvatory","code":""},{"path":"edit-app.html","id":"edit-app","chapter":"3 Edit the app","heading":"3 Edit the app","text":"TODO","code":""},{"path":"deploy-app.html","id":"deploy-app","chapter":"4 Deploy App","heading":"4 Deploy App","text":"TODO","code":""},{"path":"recommendations.html","id":"recommendations","chapter":"5 Recommendations","heading":"5 Recommendations","text":"TODO","code":""}]
